# Kickoff Meeting — Go URL Shortener (Quera Bootcamp)
**Date:** 2026-01-07  
**Time:** 17:00–18:00 (Europe/Madrid)  
**Location:** Google Meet (link: <paste_link_here>)  
**Notes owner:** Reza  
**Channel:** Telegram (links-only announcements)

---

## Attendees
- Reza
- Parsa

---

## Goal (what we must leave with)
- MVP scope + Definition of Done
- Initial API contract direction
- Tech stack decisions
- Workflow (Docs-as-Code + GitHub Issues/PR)
- Week 1 plan (owners + next actions)

---

## Problem statement (1-minute summary)
Marketing URLs are often long and error-prone to share. We will build an internal URL shortener that:
- lets authenticated users create short links
- redirects public visitors to the original URL
- tracks minimum analytics (click count)
- provides admin controls for users/URLs

---

## Decisions (locked)
### Tech stack
- HTTP framework: **Fiber**
- Database: **PostgreSQL**
- ORM: **GORM**
- Migrations: **golang-migrate/migrate**
- Auth: **JWT (access token for MVP)**
- Password hashing: **Argon2**
- Logging: **zerolog**
- Default branch: **main** (protected)

> ADR links:
- [ADR-0001: Use Fiber](../adr/0001-use-fiber.md)
- [ADR-0002: Use PostgreSQL + GORM](../adr/0002-use-postgres-gorm.md)
- [ADR-0003: JWT access tokens](../adr/0003-auth-jwt-access-token.md)
- [ADR-0004: Argon2 password hashing](../adr/0004-password-hashing-argon2.md)
- [ADR-0005: Short code strategy](../adr/0005-shortcode-strategy.md)
- [ADR-0006: Error format](../adr/0006-error-format.md)
- [ADR-0007: Redirect policy](../adr/0007-redirect-policy.md)
- [ADR-0008: Logging](../adr/0008-logging-zerolog.md)

### Product rules (MVP)
- Redirect: **302**
- Short code: **random Base62, length 7**, DB unique index on `short_code`, retry on collision (max 5)
- URL validation: allow **http/https**, must be parseable with host (optional: block localhost/private IP)
- Analytics: minimum **click_count**, increment must be atomic in DB

---

## MVP Scope (week-2 delivery)
### Must-have
- Auth: register/login + JWT middleware + RBAC (user/admin)
- URLs: create short URL, list own URLs
- Public redirect: `GET /:shortCode` with 302 + click_count++
- Admin basics: list users, list URLs, disable URL (minimum 1 admin action)
- Engineering: Docker dev/prod, tests (core+auth), docs (API+DB+run+test)

### Non-goals (for MVP)
- custom alias, expiration, QR, redis cache, rate limiting, detailed analytics table

---

## Definition of Done (MVP)
- End-to-end flow works: register → login → shorten → redirect → click_count increments
- Admin endpoints require role=admin (user gets 403)
- Runs on clean machine via Docker
- `go test ./...` passes
- Docs allow a new developer to run + test without help

---

## Week 1 objective (end-of-week outcome)
By end of Week 1 we should have:
- Running skeleton + core end-to-end flow (auth + shorten + redirect + click_count)
- Repo bootstrapped with CI + docs-as-code foundation
- Initial GitHub issues created and assigned

---

## Action items (Week 1) — owners
> These must be tracked as GitHub Issues. Add links after creating issues.

### Reza
- Bootstrap repo structure + docs-as-code + CI (PR #___ / Issue #___)
- Create API Contract v0.1 (`docs/api.md`) + define error format (Issue #___)
- Create initial ADRs + meeting notes in repo (Issue #___)

### Parsa (API/HTTP)
- Fiber setup + `/api/v1` routing + health endpoint (Issue #___)
- Implement user URL endpoints: POST `/api/v1/urls`, GET `/api/v1/urls` (Issue #___)
- Implement public redirect `GET /:shortCode` (Issue #___)

### Mani (DB/Auth/DevOps)
- Postgres + GORM integration + base migrations (Issue #___)
- Implement auth: Argon2 hash + JWT login/register + auth middleware (Issue #___)
- Docker compose (dev) + `.env.example` (Issue #___)

---

## Parking lot (decide later)
- Rate limiting
- Redis caching
- Detailed analytics (url_visits table)
- Metrics/observability
- Refresh tokens
